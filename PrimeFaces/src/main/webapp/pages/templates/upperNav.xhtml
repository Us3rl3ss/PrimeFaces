<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
</h:head>
<h:body>
	<ui:composition>
	
		<h:form id="upperNavForm">
		
			<p:tabMenu activeIndex="#{navigationController.activeParam}">
			
				<p:menuitem 
						value="Početna" 
						icon="ui-icon-star"
						action="#{navigationController.doViewHome}">
					<f:param name="i" value="0" />
				</p:menuitem>
				
				<p:menuitem 
						value="Projekcije" 
						icon="ui-icon-search"
						action="#{navigationController.doViewProjection}">
					<f:param name="i" value="1" />
				</p:menuitem>
				
				<p:menuitem 
						value="Filmovi" 
						icon="ui-icon-star"
						action="#{navigationController.doViewMovie}">
					<f:param name="i" value="2" />
				</p:menuitem>
				
				<p:menuitem rendered="#{userSession.logged}"
						value="Korisnici" 
						icon="ui-icon-person"
						action="#{navigationController.doViewUsers}">
					<f:param name="i" value="3" />
				</p:menuitem>
				
				<p:menuitem 
						value="Kontakt" 
						icon="ui-icon-document"
						action="#{navigationController.doViewContact}">
					<f:param name="i" value="7" />
				</p:menuitem>
				
				<p:menuitem rendered="#{!userSession.logged}"
						value="Prijava" 
						icon="ui-icon-wrench"
						onclick="PF('loginDialog').show();">
					<f:param name="i" value="9" />
				</p:menuitem>
				
				<p:menuitem rendered="#{!userSession.logged}"
						value="Registracija" 
						icon="ui-icon-wrench"
						onclick="PF('registrationDialog').show();">
					<f:param name="i" value="10" />
				</p:menuitem>
				
				<p:menuitem rendered="#{userSession.logged}"
						value="Odjava" 
						icon="ui-icon-wrench"
						action="#{userSession.logout}">
					<f:param name="i" value="10" />
				</p:menuitem>
				
			</p:tabMenu>
			
		</h:form>
		
		<h:form id="loggedInUserForm" rendered="#{userSession.logged}" style="position:absolute; top:0px; right:0px; width:40px; margin:1em; font-size:10px;">
			
			<h:commandLink action="#{navigationController.doViewMyProfile}"> 
				<p:graphicImage value="#{userImageMB.image}" width="40" height="40">
					<f:param value="#{userSession.user.id}" name="user_id" />
				</p:graphicImage>
				<h:outputText value="#{userSession.user.username}" />
			</h:commandLink>
		</h:form>
		
		

	</ui:composition>

</h:body>
</html>