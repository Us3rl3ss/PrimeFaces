<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title><ui:insert name="title">CinePlex</ui:insert></title>
</h:head>
<h:body>

	<h:form>

		<h:panelGrid columns="1" cellpadding="5">
			<h:outputLabel for="username" value="Korisničko ime: *" />
			<p:inputText id="username" value="#{loginMB.username}"
				label="Username" required="true" />

			<h:outputLabel for="password" value="Lozinka: *" />
			<p:password id="password" value="#{loginMB.password}"
				label="Password" required="true" />

			<p:commandButton value="Prijava" action="#{loginMB.login}" />


			<p:commandButton value="Registracija" type="button"
				onclick="PF('registracija').show();" />
		</h:panelGrid>
		
	</h:form>

	<p:dialog header="Registracija" widgetVar="registracija" modal="true"
		minHeight="40">
		<h:form>
			<p:growl id="messages"></p:growl>
			<p:panelGrid columns="2">
				<p:outputLabel value="Ime:"></p:outputLabel>
				<p:inputText value="#{registerMB.user.firstname}"></p:inputText>
				<p:outputLabel value="Prezime:"></p:outputLabel>
				<p:inputText value="#{registerMB.user.lastname}"></p:inputText>
				<p:outputLabel value="Korisničko ime:"></p:outputLabel>
				<p:inputText value="#{registerMB.user.username}"></p:inputText>
				<p:outputLabel value="Lozinka: "></p:outputLabel>
				<p:password value="#{registerMB.user.password}"></p:password>
				<p:outputLabel value="Email adresa:"></p:outputLabel>
				<p:inputText value="#{registerMB.user.email}"></p:inputText>
				<p:outputLabel value="Datum rođenja:"></p:outputLabel>
				<p:calendar value="#{registerMB.user.date_of_birth}"
					pattern="dd.MM.yyyy" mask="true" />
			</p:panelGrid>

			<p:commandButton value="Pošalji" action="#{registerMB.register}"
				update="messages"></p:commandButton>
			<p:commandButton value="Odustani" action="#{registerMB.odustani}"
				update="messages"></p:commandButton>
		</h:form>

	</p:dialog>

</h:body>
</html>